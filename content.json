[{"title":"数据库默认隔离级别","date":"2016-12-20T15:33:40.000Z","path":"2016/12/20/DB-ISOLATION/","text":"1.InnoDB默认是可重复读的（REPEATABLE READ）2.你可以在命令行用–transaction-isolation选项，或在选项文件里，为所有连接设置默认隔离级别。 在my.cfg文件的[mysqld]节里类似如下设置该选项：= &#123;READ-UNCOMMITTED | READ-COMMITTED | REPEATABLE-READ | SERIALIZABLE&#125;123```3.用户可以用SET TRANSACTION语句改变单个会话或者所有新进连接的隔离级别```SET [SESSION | GLOBAL] TRANSACTION ISOLATION LEVEL &#123;READ UNCOMMITTED | READ COMMITTED | REPEATABLE READ | SERIALIZABLE&#125; 4.用下列语句查询全局和会话事务隔离级别@@global.tx_isolation;12SELECT @@session.tx_isolation;SELECT @@tx_isolation; Oracle等多数数据库默认都是读已提交(Read Committed)","tags":[]},{"title":"资管CR测试","date":"2016-11-30T03:35:50.000Z","path":"2016/11/30/资管v0.3 接口端CR记录/","text":"资管V0.3接口端CR记录瑞志 @AutoWired 注入时最好都用接口进行注入 (同一个父类时，加@Qualifier指明 注入哪个类) 用yarn写 配置文件可读性会更好&gt; 一个项目最好一个流程包（AMS一个， ABS一个） 把一个流程做成一个对象，把属性放在里面会更好(包ID, processID 等属性) BMP 审核的代码还可以再抽象点，通过状态机流转简化流程 审核希望以后做成基础服务，瑞志配合， AMS、ABS 公用 王磊 不用的代码直接删掉(涉及到审核的部分) 字段校验失败，通知前端具体哪个字段？抛出一个异常 or 返回通知消息 抛出异常时需要把异常堆栈打出来 request.getUserName() 这句话 可以使用一个UserHandler， 把username 在登录时放到ThreadLocal里， 之后直接get即可 事务跨了远程调用最好使用Executor异步执行TransactionCallBack进行回调去处理事务 不要使用e.printStackTrace() 打印异常栈，最好使用logger.info(e); 记录到日志里 计划和产品是两个聚合根，最好分开单独处理（使用command）, 这里计划下的产品与产品无关系，可以一起处理 异常捕获后需要处理，或者直接不捕获 把所有的表单请求字段拼接起来算一个md5值， 存在redis中，短时间有两条的话， 只处理一条， 前后端都需要处理 幂等性，交易， 多次请求，只有一次回复，前端添加一次请求，如果一定时间没有返回，就再发一次，直到成功。 初始化一个StringBuilider时，直接new StringBuidler即可 时间格式化使用一个时间工具类， 不要直接写在代码里 产品价格生效 和 未生效 公有的代码可以提出来，不要重复 字段命名在不同的类中最好统一一下 枚举直接通过==判断，不用取出code,再用equals判断 产品价格参数校验失败直接抛出参数校验失败的异常 收益率参数的校验还需要补充下 单测需要补充下，主要分支需要覆盖到， 收益率生效，未生效 房杰 FeeMode 直接switch , 不用getCode出来在Switch 枚举直接判断，不用getCode 没用到的变量直接删掉 request.getData().validate() 提出来 errMsg 做成枚举或者 ErrCode 查出来再更新， 可以在loadById时加悲观锁 查当前审核人的代码 可以抽出来，实现一个接口或者公共类，查询审核人的代码公用 保存产品费用后端需要做校验 删除产品费用是，关联的产品费用进行批量查询 产品费用操作加事务 验证失败直接抛出异常即可 new Money (0) 改为 Money.ZERO 一个方法参数里调用另一个方法时，把另一个方法抽出来 loadById 的时候改成悲观锁, update 的时候再释放掉 需要加个事务， 避免并发 version 乐观锁, 没怎么用， 对性能要求较高，一致性要求较低时可以用 跑批的时候 可以用乐观锁， 多条机器可以并行的跑时可以用 用jdk8 里的LocalDateTime代替jodaTime 张波 与前面三位差不多","tags":[]},{"title":"Hello World","date":"2016-11-29T08:57:15.000Z","path":"2016/11/29/hello-world/","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","tags":[]},{"title":"My First Blog","date":"2015-07-29T23:56:29.000Z","path":"2015/07/30/MyFirstBlog/","text":"在Java中如何高效的判断数组中是否包含某个元素代码1ArrayUtils.contains();","tags":[{"name":"hexo","slug":"hexo","permalink":"http://crystalxiaoou.github.io/tags/hexo/"},{"name":"apache commons","slug":"apache-commons","permalink":"http://crystalxiaoou.github.io/tags/apache-commons/"}]}]